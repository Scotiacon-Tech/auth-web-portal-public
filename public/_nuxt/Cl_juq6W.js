import{_ as fe}from"./CFIkTu3C.js";import{m as x,r as p,E as re,G as ue,H as ge,o as u,p as C,w as a,b as t,d as B,t as V,y as _,q as g,I as Z,u as G,s as ie,c as M,F as K,a as S,_ as W,J as ve,K as pe,L as be,M as U,N as we,g as Q,O as ye,P as Le,Q as ae,R as ne,S as ke,T as he,U as Ce,D as H,V as Re,x as _e,A as Te}from"./EXqdmSXJ.js";import{V as T,a as R,b as Ae}from"./CPt4PJEO.js";import{V as oe,a as de,u as Ie,k as Ne,m as Ee,n as Be,o as Se,b as Ve}from"./q-tbn8RJ.js";import{V as q,b as Oe,c as $e}from"./BtRdvlQN.js";import{u as De,a as Pe,m as Ue}from"./CmT917pQ.js";import{u as X,V as Fe,a as qe}from"./L8R_swEt.js";import"./FXtCWr_z.js";import"./D8Ti1vpR.js";var F=(e=>(e.ADD_CREDENTIAL="ADD_CREDENTIAL",e.COMBINED="COMBINED",e.LOGIN="LOGIN",e.REGISTER="REGISTER",e))(F||{});const Me={buttonCancel:"Cancel",buttonDetails:"Main Website",buttonEditRegistration:"Edit Registration",buttonForgottenPassword:"Forgotten Password",buttonLogin:"Sign In",buttonLoginAmazon:"Amazon",buttonLoginEmail:"Email",buttonLoginFaceBook:"FaceBook",buttonLoginGoogle:"Google",buttonLoginInstagram:"Instagram",buttonLoginMicrosoft:"Microsoft",buttonLoginSteam:"Steam",buttonLoginTelegram:"Telegram",buttonLoginTwitch:"Twitch",buttonLoginTwitter:"Twitter",buttonRegister:"Start Registration",buttonReturnToLogin:"Go Back",buttonViewRegistration:"View Registration",currencySymbol:"Â£",currencyIcon:"mdi:mdi-currency-gbp",enumPER_ROOM:"Per room",enumPER_PERSON:"Per person",formConventionVisible:"Convention Listed to Users",formHeaderSignInEmail:"E-mail",formLabelAvailability:"Availability",formLabelDescription:"Description",formLabelDateStart:"Arrival Date",formLabelDateEnd:"Departure Date",formLabelDetailLink:"Details URL",formLabelDisplayName:"Display Name",formLabelLogo:"Logo",formLabelMaximumCapacity:"Maximum Capacity",formLabelMinimumCapacity:"Minimum Capacity",formLabelName:"Name",formLabelNotes:"Notes",formLabelPrice:"Price",formLabelPriceType:"Policy",formLabelRequiresAccommodation:"Requires Accommodation",formLabelSlug:"URL Path",formLabelTagKey:"Value",formLabelTags:"Tags",formPlaceHolderEmail:"E-mail Address",formPlaceHolderPassword:"Password",headingSignIn:"Sign in with",messageCreateTelegramAccount1:`No account currently exists with your telegram login,
  if you have logged in previously please click "cancel" and try another method such as email login.`,messageCreateTelegramAccount2:'If you wish to create a new account please click "create account".',messageCreateTelegramAccount3:"",messageResetEmail:`If an account linked to your email address is found you will
  receive an email containing a reset link. Please remember to check your spam
  folder if you do not see anything in your inbox.`,messageVerifyNewAccountEmail:`An email has been sent to your address containing
  a link to activate your account. Please remember to check your spam
  folder if you do not see anything in your inbox.`,messageVerifiedNewAccountMessage:`Thank you for verifying your email address.
  Account creation is now in progress. You will be automatically logged in once
  completed.`},I=Me,xe={key:1,class:"ma-auto text-left"},Ge={key:2,class:"ma-auto text-left"},ze={key:3,class:"ma-auto text-left"},je={class:"text-red-darken-1 font-weight-bold"},Je={class:"text-center mt-4"},He=x({__name:"EmailLoginForm",props:{disabled:{type:Boolean,default:!1},variant:{default:()=>F.COMBINED}},emits:["callback"],setup(e,{emit:r}){const f=p(!0);re();const l=G(),o=r,{smAndUp:n}=ue(),c=p(!1),w=p(!1),y=p(!1),i=p(""),N=p(""),b=p(!1),L=p({required:s=>!!s||"Required.",min:s=>s.length>=8||"Min 8 characters",email:s=>!!s.match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)||"Valid email address required"}),h=p(""),D=()=>(h.value="",!(L.value.required(i.value)!==!0||L.value.email(i.value)!==!0||L.value.required(N.value)!==!0||L.value.min(N.value)!==!0)),v=s=>{s.preventDefault(),D()&&o("callback",{mode:"login",username:i.value,password:N.value})},k=s=>{s.preventDefault(),(h.value="",!(L.value.required(i.value)!==!0||L.value.email(i.value)!==!0||L.value.required(N.value)!==!0||L.value.min(N.value)!==!0))&&o("callback",{mode:"create",username:i.value,password:N.value})},z=s=>{s.preventDefault(),(h.value="",!(L.value.required(i.value)!==!0||L.value.email(i.value)!==!0))&&o("callback",{mode:"link",username:i.value,password:N.value})};return(s,m)=>{const Y=ge("router-link");return f.value?(u(),C(de,{key:0,onSubmit:ie(v,["stop"]),disabled:s.disabled,id:"login-form",action:`/${g(l).public.issuerUri}/connect/auth/internal`,method:"post"},{default:a(()=>[t(T,null,{default:a(()=>[t(R,null,{default:a(()=>[t(oe,{margin:"normal",required:"",id:"username",label:"Email Address",name:"username",autocomplete:"username",autofocus:"",variant:"outlined",modelValue:i.value,"onUpdate:modelValue":m[0]||(m[0]=j=>i.value=j),rules:[L.value.required,L.value.email],clearable:!0},null,8,["modelValue","rules"])]),_:1})]),_:1}),t(T,null,{default:a(()=>[t(R,null,{default:a(()=>[t(oe,{margin:"normal",required:"",name:"password",label:"Password",type:b.value?"text":"password",id:"password",autocomplete:"current-password",variant:"outlined",modelValue:N.value,"onUpdate:modelValue":m[1]||(m[1]=j=>N.value=j),"append-inner-icon":b.value?"mdi:mdi-eye-off":"mdi:mdi-eye","onClick:appendInner":m[2]||(m[2]=j=>b.value=!b.value),counter:"",hint:"At least 8 characters",rules:[L.value.required,L.value.min],clearable:!1},null,8,["type","modelValue","append-inner-icon","rules"])]),_:1})]),_:1}),h.value?(u(),C(T,{key:0},{default:a(()=>[t(R,{class:"text-red-darken-1 font-weight-bold"},{default:a(()=>[B(V(h.value),1)]),_:1})]),_:1})):_("",!0),t(T,{justify:"space-between"},{default:a(()=>[s.variant===g(F).COMBINED||s.variant===g(F).REGISTER?(u(),C(R,{key:0,cols:"12",sm:"7",order:"2","order-sm":"1",class:Z(`${g(n)?"":"text-center"}`)},{default:a(()=>[t(q,{color:"orange-darken-2",disabled:s.disabled,class:"w-100","prepend-icon":"mdi:mdi-account-edit",onClick:k},{default:a(()=>m[3]||(m[3]=[B(" Create Account ")])),_:1},8,["disabled"])]),_:1},8,["class"])):_("",!0),s.variant===g(F).COMBINED||s.variant===g(F).LOGIN?(u(),C(R,{key:1,cols:"12",sm:"5",order:"1","order-sm":"2",class:Z(`${g(n)?"text-right":"text-center"}`)},{default:a(()=>[t(q,{color:"success",disabled:s.disabled,type:"submit",class:"w-100","prepend-icon":"mdi:mdi-login"},{default:a(()=>m[4]||(m[4]=[B(" Sign In ")])),_:1},8,["disabled"])]),_:1},8,["class"])):_("",!0),s.variant===g(F).ADD_CREDENTIAL?(u(),C(R,{key:2,cols:"12",sm:"6",class:"flex-grow-0"},{default:a(()=>[t(q,{color:"orange-darken-2",disabled:s.disabled},{default:a(()=>m[5]||(m[5]=[B(" Add Email ")])),_:1},8,["disabled"])]),_:1})):_("",!0)]),_:1}),s.variant===g(F).COMBINED||s.variant===g(F).LOGIN?(u(),C(T,{key:1},{default:a(()=>[t(R,null,{default:a(()=>[t(q,{onClick:z,class:"w-100",color:"grey",disabled:s.disabled,"prepend-icon":"mdi:mdi-account-question"},{default:a(()=>[B(V(g(I).buttonForgottenPassword),1)]),_:1},8,["disabled"])]),_:1})]),_:1})):_("",!0)]),_:1},8,["disabled","action"])):c.value?(u(),M("p",xe,V(g(I).messageResetEmail),1)):w.value?(u(),M("p",Ge,V(g(I).messageVerifyNewAccountEmail),1)):y.value?(u(),M("p",ze,[B(V(g(I).messageVerifiedNewAccountMessage)+" ",1),h.value?(u(),M(K,{key:0},[m[9]||(m[9]=S("br",null,null,-1)),m[10]||(m[10]=S("br",null,null,-1)),S("span",je,[m[6]||(m[6]=B(" An error occurred creating or recovering account:")),m[7]||(m[7]=S("br",null,null,-1)),B(" "+V(h.value),1)]),m[11]||(m[11]=S("br",null,null,-1)),m[12]||(m[12]=S("br",null,null,-1)),m[13]||(m[13]=S("span",{class:"text-red-darken-4"}," Please contact registration if you require further assistance. ",-1)),S("div",Je,[t(Y,{to:"/"},{default:a(()=>[t(q,{color:"red"},{default:a(()=>m[8]||(m[8]=[B("Close")])),_:1})]),_:1})])],64)):_("",!0)])):_("",!0)}}}),Ke=W(He,[["__scopeId","data-v-928490fa"]]),We=ke({autofocus:Boolean,divider:String,focusAll:Boolean,label:{type:String,default:"$vuetify.input.otp"},length:{type:[Number,String],default:6},modelValue:{type:[Number,String],default:void 0},placeholder:String,type:{type:String,default:"number"},...Ue(),...Se(),...he(Be({variant:"outlined"}),["baseColor","bgColor","class","color","disabled","error","loading","rounded","style","theme","variant"])},"VOtpInput"),Ye=ve()({name:"VOtpInput",props:We(),emits:{finish:e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,r){let{attrs:f,emit:l,slots:o}=r;const{dimensionStyles:n}=De(e),{isFocused:c,focus:w,blur:y}=Ie(e),i=pe(e,"modelValue","",d=>d==null?[]:String(d).split(""),d=>d.join("")),{t:N}=be(),b=U(()=>Number(e.length)),L=U(()=>Array(b.value).fill(0)),h=p(-1),D=p(),v=p([]),k=U(()=>v.value[h.value]);function z(){if(te(k.value.value)){k.value.value="";return}const d=i.value.slice(),A=k.value.value;d[h.value]=A;let O=null;h.value>i.value.length?O=i.value.length+1:h.value+1!==b.value&&(O="next"),i.value=d,O&&ae(D.value,O)}function s(d){const A=i.value.slice(),O=h.value;let $=null;["ArrowLeft","ArrowRight","Backspace","Delete"].includes(d.key)&&(d.preventDefault(),d.key==="ArrowLeft"?$="prev":d.key==="ArrowRight"?$="next":["Backspace","Delete"].includes(d.key)&&(A[h.value]="",i.value=A,h.value>0&&d.key==="Backspace"?$="prev":requestAnimationFrame(()=>{var E;(E=v.value[O])==null||E.select()})),requestAnimationFrame(()=>{$!=null&&ae(D.value,$)}))}function m(d,A){var $,E;A.preventDefault(),A.stopPropagation();const O=(($=A==null?void 0:A.clipboardData)==null?void 0:$.getData("Text").slice(0,b.value))??"";te(O)||(i.value=O.split(""),(E=v.value)==null||E[d].blur())}function Y(){i.value=[]}function j(d,A){w(),h.value=A}function me(){y(),h.value=-1}function te(d){return e.type==="number"&&/[^0-9]/g.test(d)}return we({VField:{color:U(()=>e.color),bgColor:U(()=>e.color),baseColor:U(()=>e.baseColor),disabled:U(()=>e.disabled),error:U(()=>e.error),variant:U(()=>e.variant)}},{scoped:!0}),Q(i,d=>{d.length===b.value&&l("finish",d.join(""))},{deep:!0}),Q(h,d=>{d<0||ye(()=>{var A;(A=v.value[d])==null||A.select()})}),Pe(()=>{var O;const[d,A]=Le(f);return t("div",ne({class:["v-otp-input",{"v-otp-input--divided":!!e.divider},e.class],style:[e.style]},d),[t("div",{ref:D,class:"v-otp-input__content",style:[n.value]},[L.value.map(($,E)=>t(K,null,[e.divider&&E!==0&&t("span",{class:"v-otp-input__divider"},[e.divider]),t(Ne,{focused:c.value&&e.focusAll||h.value===E,key:E},{...o,loader:void 0,default:()=>t("input",{ref:J=>v.value[E]=J,"aria-label":N(e.label,E+1),autofocus:E===0&&e.autofocus,autocomplete:"one-time-code",class:["v-otp-input__field"],disabled:e.disabled,inputmode:e.type==="number"?"numeric":"text",min:e.type==="number"?0:void 0,maxlength:"1",placeholder:e.placeholder,type:e.type==="number"?"text":e.type,value:i.value[E],onInput:z,onFocus:J=>j(J,E),onBlur:me,onKeydown:s,onPaste:J=>m(E,J)},null)})])),t("input",ne({class:"v-otp-input-input",type:"hidden"},A,{value:i.value.join("")}),null),t(Ee,{contained:!0,"content-class":"v-otp-input__loader","model-value":!!e.loading,persistent:!0},{default:()=>{var $;return[(($=o.loader)==null?void 0:$.call(o))??t(Oe,{color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0,size:"24",width:"2"},null)]}}),(O=o.default)==null?void 0:O.call(o)])])}),{blur:()=>{var d;(d=v.value)==null||d.some(A=>A.blur())},focus:()=>{var d;(d=v.value)==null||d[0].focus()},reset:Y,isFocused:c}}}),Ze=x({__name:"OTPLoginForm",props:{email:{},disabled:{type:Boolean,default:!1}},emits:["callback"],setup(e,{emit:r}){p(!0),re();const f=r;ue();const l=p(""),o=p({required:w=>!!w||"Required.",min:w=>w.length>=6||"Min 6 characters"}),n=p(""),c=w=>{w.preventDefault(),(n.value="",!(o.value.required(l.value)!==!0||o.value.min(l.value)!==!0))&&(console.log("emit baby"),f("callback",{mode:"validate",username:e.email,password:l.value}))};return(w,y)=>(u(),C(de,{onSubmit:y[1]||(y[1]=ie(()=>{},["stop"])),disabled:w.disabled},{default:a(()=>[y[3]||(y[3]=S("h3",{class:"text-h6 mb-2"}," Please enter the one time password to verify your account ",-1)),S("p",null,"A code has been sent to "+V(w.email),1),t(T,null,{default:a(()=>[t(R,null,{default:a(()=>[t(Ye,{disabled:w.disabled,length:"6",modelValue:l.value,"onUpdate:modelValue":y[0]||(y[0]=i=>l.value=i),rules:[o.value.required,o.value.min]},null,8,["disabled","modelValue","rules"])]),_:1})]),_:1}),t(T,null,{default:a(()=>[t(R,null,{default:a(()=>[t(q,{disabled:l.value.length!=6,type:"submit",onClick:c,color:"primary",variant:"flat",class:"w-100"},{default:a(()=>y[2]||(y[2]=[B(" Validate ")])),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["disabled"]))}}),Qe=W(Ze,[["__scopeId","data-v-c50d85ca"]]),ee=()=>{const e=Ce(),r=JSON.stringify(e.query),f=new $e;return f.parseJSON(r),f},Xe=async(e,r,f=!1)=>{const l=G();return await $fetch(`${l.public.issuerUri}/connect/auth/internal`,{method:"post",body:JSON.stringify({oauth:e,internal:{username:r.username,password:r.password},new:f}),parseResponse:o=>{const n=JSON.parse(o);if(n.RedirectURI)return n.RedirectURI;throw o}})},le=async(e,r,f="",l=!1)=>{const o=G();return await $fetch(`${o.public.issuerUri}/connect/email/link`,{method:"post",body:JSON.stringify({oauth:e,internal:{username:r,password:f},new:l})})},et=async(e,r,f=!1)=>{const l=G();return await $fetch(`${l.public.issuerUri}/connect/auth/otp`,{method:"post",body:JSON.stringify({oauth:e,internal:{username:r.username,password:r.password},new:f}),parseResponse:o=>{const n=JSON.parse(o);if(n.RedirectURI)return n.RedirectURI;throw o}})},tt={class:"ma-auto",style:{"max-width":"450px"}},at=x({__name:"email",props:{variant:{default:()=>F.COMBINED}},emits:["cancel"],setup(e,{emit:r}){const f=r,l=X(),o=p(""),n=p("email"),c=p(!1),w=ee(),y=p(!1),i=p(),N=v=>{switch(v.mode.toLocaleString()){case"create":return b(v);case"link":return L(v.username);case"login":return D(v);case"register":return;case"validate":return h(v)}},b=async v=>{y.value=!1;const{token:k}=await le(w,v.username,v.password,!0);o.value=v.username,i.value=k,n.value="otp_create"},L=async v=>{y.value=!1;const{token:k}=await le(w,v);o.value=v,i.value=k,n.value="otp_validate"},h=async v=>{c.value=!0;const k=await et(w,{username:v.username,password:`${i.value}:${v.password}`},n.value=="otp_create");if(k){const s=new URL(k).searchParams.get("error");if((s==null?void 0:s.toLowerCase())!="invalid_request"&&(s==null?void 0:s.toLowerCase())!="access_denied"){H(k,{external:!0});return}}y.value=!0,c.value=!1,n.value="email"},D=async v=>{c.value=!0,y.value=!1;const k=await Xe(w,v);if(k){const s=new URL(k).searchParams.get("error");if((s==null?void 0:s.toLowerCase())=="invalid_request"){y.value=!0,c.value=!1;return}H(k,{external:!0})}};return(v,k)=>(u(),M("div",tt,[g(y)?(u(),C(T,{key:0},{default:a(()=>[t(R,null,{default:a(()=>[t(Fe,{type:"error"},{default:a(()=>[t(qe,null,{default:a(()=>k[1]||(k[1]=[B("Login Failed")])),_:1}),k[2]||(k[2]=B(" There was problem with your login attempt. It may be the account doesn't exist or your password was incorrect. You may have also created your account using a Telegram login instead. "))]),_:1})]),_:1})]),_:1})):_("",!0),t(T,null,{default:a(()=>[t(R,null,{default:a(()=>[g(n)=="email"?(u(),C(Ke,{key:0,disabled:g(c),"redirect-url":g(l).href,variant:v.variant,onCallback:N},null,8,["disabled","redirect-url","variant"])):g(n)=="otp_create"||g(n)=="otp_validate"?(u(),C(Qe,{key:1,disabled:g(c),email:g(o),onCallback:N},null,8,["disabled","email"])):_("",!0)]),_:1})]),_:1}),t(T,null,{default:a(()=>[t(R,{class:"text-left"},{default:a(()=>[t(q,{color:"error",onClick:k[0]||(k[0]=z=>f("cancel")),class:"w-100","prepend-icon":"mdi:mdi-arrow-left-circle"},{default:a(()=>k[3]||(k[3]=[B(" Go Back ")])),_:1})]),_:1})]),_:1})]))}}),nt={key:0,class:"ml-1"},ot=x({__name:"AuthButton",props:{appendIcon:{type:[String,Array,Function,Object],default:""},class:{default:""},credential:{},showUsername:{type:Boolean,default:!1},source:{default:"internal"}},setup(e){const r={amazon:{icon:"fa:fas fa-brands fa-amazon",label:I.buttonLoginAmazon,name:"Amazon"},email:{icon:"mdi:mdi-email",label:I.buttonLoginEmail,name:"Email"},facebook:{icon:"fa:fa fa-brands fa-facebook",label:I.buttonLoginFaceBook,name:"FaceBook"},google:{icon:"fa:fa fa-brands fa-google",label:I.buttonLoginGoogle,name:"Google"},internal:{icon:"mdi:mdi-email",label:I.buttonLoginEmail,name:"Email"},instagram:{icon:"fa:fa fa-brands fa-instagram",label:I.buttonLoginInstagram,name:"Instagram"},microsoft:{icon:"fa:fa fa-brands fa-windows",label:I.buttonLoginMicrosoft,name:"Microsoft"},steam:{icon:"fa:fa fa-brands fa-steam",label:I.buttonLoginSteam,name:"Steam"},telegram:{icon:"fa:fa fa-brands fa-telegram",label:I.buttonLoginTelegram,name:"Telegram"},twitch:{icon:"fa:fa fa-brands fa-twitch",label:I.buttonLoginTwitch,name:"Twitch"},twitter:{icon:"fa:fa fa-brands fa-twitter",label:I.buttonLoginTwitter,name:"Twitter"}},f=p(r[e.source.toLowerCase()].label||""),l=p(r[e.source.toLowerCase()].icon||""),o=U(()=>{var n,c;if(e.source.toLowerCase()==="internal"||e.source.toLowerCase()==="email")return(n=e.credential)==null?void 0:n.Email;try{const w=JSON.parse(((c=e.credential)==null?void 0:c.Data)||"{}");switch(e.source.toLowerCase()){case"telegram":return`@${w.username||w.id}`}}catch{}return""});return(n,c)=>(u(),C(q,{"append-icon":n.appendIcon,"prepend-icon":l.value,class:Z(`${n.source.toLowerCase()} ${e.class}`)},{default:a(()=>[B(V(f.value)+" ",1),n.showUsername&&n.credential?(u(),M("small",nt,"("+V(o.value)+")",1)):_("",!0)]),_:1},8,["append-icon","prepend-icon","class"]))}}),ce=W(ot,[["__scopeId","data-v-b98baed0"]]),se=async(e,r,f=!1)=>{const l=G();return await $fetch(`${l.public.issuerUri}/connect/auth/telegram`,{method:"post",body:JSON.stringify({oauth:e,telegram:r,new:f}),parseResponse:o=>{const n=JSON.parse(o);if(n.RedirectURI)return n.RedirectURI;throw o}})},lt={class:"my-2"},st={class:"my-2"},rt={class:"my-2"},ut=x({__name:"TelegramButton",props:{appendIcon:{type:[String,Array,Function,Object],default:""},class:{default:""},credential:{},showUsername:{type:Boolean,default:!1}},emits:["cancel"],setup(e,{emit:r}){const f=r,l=G();X();const o=ee(),n=p(!1),c=p();p();const w=p(),y=async()=>{if(n.value=!1,!c.value)return;const b=await se(o,c.value,!0);b&&H(b,{external:!0})},i=()=>{{if(!window.Telegram||!window.Telegram.Login||!window.Telegram.Login.auth){console.error("Telegram not initialised");return}window.Telegram.Login.auth({bot_id:l.public.telegramBotId||"",request_access:!0},b=>{b||console.error("Telegram Authorization Failed"),N(b)})}},N=async b=>{const L=await se(o,b,!1);if(L){const D=new URL(L).searchParams.get("error");D?D=="access_denied"&&(n.value=!0,c.value=b):H(L,{external:!0})}};return Re(()=>{const b=document.createElement("script");b.async=!0,b.src="https://telegram.org/js/telegram-widget.js?22",w.value.appendChild(b)}),(b,L)=>(u(),M(K,null,[t(T,null,{default:a(()=>[t(R,{class:"text-center"},{default:a(()=>[S("div",{ref_key:"telegram",ref:w},null,512),t(ce,{"append-icon":b.appendIcon,credential:b.credential,"show-username":b.showUsername,source:"telegram",class:"d-flex justify-start w-100",onClick:i},null,8,["append-icon","credential","show-username"])]),_:1})]),_:1}),t(Ve,{modelValue:g(n),"onUpdate:modelValue":L[0]||(L[0]=h=>_e(n)?n.value=h:null),"show-save-action":!0,"show-reset-action":!1,"show-close-action":!0,"show-delete-action":!1,title:"Create new account","hide-extension":!0,"save-button-label":"Create Account",onSave:y,onClose:L[1]||(L[1]=h=>f("cancel"))},{default:a(()=>[S("p",lt,V(g(I).messageCreateTelegramAccount1),1),S("p",st,V(g(I).messageCreateTelegramAccount2),1),S("p",rt,V(g(I).messageCreateTelegramAccount3),1)]),_:1},8,["modelValue"])],64))}}),it=x({__name:"LoginButton",props:{appendIcon:{type:[String,Array,Function,Object],default:""},credential:{},params:{},showUsername:{type:Boolean,default:!1},source:{default:"internal"}},setup(e){return(r,f)=>r.source=="telegram"?(u(),C(ut,{key:0})):(u(),C(ce,{key:1,"append-icon":r.appendIcon,credential:r.credential,"show-username":r.showUsername,source:r.source,class:"d-flex justify-start w-100"},null,8,["append-icon","credential","show-username","source"]))}}),P=W(it,[["__scopeId","data-v-9a086b0f"]]),dt=x({__name:"LoginButtons",props:{showAmazonLogin:{type:Boolean,default:!1},showEmailLogin:{type:Boolean,default:!1},showFaceBookLogin:{type:Boolean,default:!1},showGoogleLogin:{type:Boolean,default:!1},showInstagramLogin:{type:Boolean,default:!1},showMicrosoftLogin:{type:Boolean,default:!1},showSteamLogin:{type:Boolean,default:!1},showTelegramLogin:{type:Boolean,default:!1},showTwitchLogin:{type:Boolean,default:!1},showTwitterLogin:{type:Boolean,default:!1}},emits:["login"],setup(e,{emit:r}){X(),ee();const f=r,l=p("");return Q(l,()=>{f("login",l.value)}),(o,n)=>(u(),M("div",null,[o.showEmailLogin?(u(),C(T,{key:0,dense:!0},{default:a(()=>[t(R,null,{default:a(()=>[t(P,{source:"internal",onClick:n[0]||(n[0]=c=>l.value="internal")})]),_:1})]),_:1})):_("",!0),o.showAmazonLogin?(u(),C(T,{key:1,dense:!0},{default:a(()=>[t(R,null,{default:a(()=>[t(P,{source:"amazon",onClick:n[1]||(n[1]=c=>l.value="amazon")})]),_:1})]),_:1})):_("",!0),o.showFaceBookLogin?(u(),C(T,{key:2,dense:!0},{default:a(()=>[t(R,null,{default:a(()=>[t(P,{source:"facebook",onClick:n[2]||(n[2]=c=>l.value="facebook")})]),_:1})]),_:1})):_("",!0),o.showGoogleLogin?(u(),C(T,{key:3,dense:!0},{default:a(()=>[t(R,null,{default:a(()=>[t(P,{source:"google",onClick:n[3]||(n[3]=c=>l.value="google")})]),_:1})]),_:1})):_("",!0),o.showInstagramLogin?(u(),C(T,{key:4,dense:!0},{default:a(()=>[t(R,null,{default:a(()=>[t(P,{source:"instagram",onClick:n[4]||(n[4]=c=>l.value="instagram")})]),_:1})]),_:1})):_("",!0),o.showMicrosoftLogin?(u(),C(T,{key:5,dense:!0},{default:a(()=>[t(R,null,{default:a(()=>[t(P,{source:"microsoft",onClick:n[5]||(n[5]=c=>l.value="microsoft")})]),_:1})]),_:1})):_("",!0),o.showSteamLogin?(u(),C(T,{key:6,dense:!0},{default:a(()=>[t(R,null,{default:a(()=>[t(P,{source:"steam",onClick:n[6]||(n[6]=c=>l.value="steam")})]),_:1})]),_:1})):_("",!0),o.showTelegramLogin?(u(),C(T,{key:7,dense:!0},{default:a(()=>[t(R,null,{default:a(()=>[t(P,{source:"telegram"})]),_:1})]),_:1})):_("",!0),o.showTwitchLogin?(u(),C(T,{key:8,dense:!0},{default:a(()=>[t(R,null,{default:a(()=>[t(P,{source:"twitch",onClick:n[7]||(n[7]=c=>l.value="twitch")})]),_:1})]),_:1})):_("",!0),o.showTwitterLogin?(u(),C(T,{key:9,dense:!0},{default:a(()=>[t(R,null,{default:a(()=>[t(P,{source:"twitter",onClick:n[8]||(n[8]=c=>l.value="twitter")})]),_:1})]),_:1})):_("",!0)]))}}),ct=()=>{const e=Te(),r=e.currentRoute.value.query.state||"",f=new URL(e.currentRoute.value.query.redirect_uri||"");return f.searchParams.set("state",r),f.toString()},mt={class:"text-center"},ht=x({__name:"index",emits:["pageTitle"],setup(e,{emit:r}){const f=G();r("pageTitle","Login");const o=ct(),n=p("BUTTONS"),c=w=>{switch(w){case"internal":n.value="INTERNAL_LOGIN";break}};return(w,y)=>{const i=fe;return u(),C(Ae,null,{default:a(()=>[S("h1",mt,V(g(f).public.organisationName),1),g(n)=="BUTTONS"?(u(),M(K,{key:0},[t(dt,{showEmailLogin:!0,showTelegramLogin:!0,onLogin:c,style:{"max-width":"250px"},class:"ma-auto mb-5"}),t(T,null,{default:a(()=>[t(R,{class:"pa-0 text-center"},{default:a(()=>[t(i,{href:g(o)},{default:a(()=>[t(q,{variant:"text"},{default:a(()=>y[1]||(y[1]=[B(" Cancel ")])),_:1})]),_:1},8,["href"])]),_:1})]),_:1})],64)):_("",!0),g(n)=="INTERNAL_LOGIN"?(u(),C(at,{key:1,onCancel:y[0]||(y[0]=N=>n.value="BUTTONS")})):_("",!0)]),_:1})}}});export{ht as default};
